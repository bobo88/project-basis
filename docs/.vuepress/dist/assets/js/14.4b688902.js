(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{292:function(n,s,t){n.exports=t.p+"assets/img/lifecycle_react_old.cc88af98.jpeg"},293:function(n,s,t){n.exports=t.p+"assets/img/lifecycle_react_new.374791b1.jpg"},488:function(n,s,t){"use strict";t.r(s);var e=t(13),a=Object(e.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h2",{attrs:{id:"react清单-生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react清单-生命周期"}},[n._v("#")]),n._v(" React清单 - 生命周期")]),n._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[n._v("生命周期")]),n._v(" "),s("p",[n._v("Mounting(挂载)：已插入真实 DOM "),s("br"),n._v("\nUpdating(更新)：正在被重新渲染 "),s("br"),n._v("\nUnmounting(卸载)：已移出真实 DOM "),s("br")])]),n._v(" "),s("h3",{attrs:{id:"一、旧的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、旧的生命周期"}},[n._v("#")]),n._v(" 一、旧的生命周期：")]),n._v(" "),s("p",[s("img",{attrs:{src:t(292),alt:"An image"}})]),n._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 1. 挂载")]),n._v("\nconstructor\ncomponentWillMount\nrender\ncomponentDidMount\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 2. 更新")]),n._v("\ncomponentWillReceiveProps\nshouldComponentUpdate\ncomponentWillUpdate\nrender\ncomponentDidUpdate\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 3. 卸载")]),n._v("\ncomponentWillUnmount\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br")])]),s("h3",{attrs:{id:"二、新的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、新的生命周期"}},[n._v("#")]),n._v(" 二、新的生命周期：")]),n._v(" "),s("p",[s("img",{attrs:{src:t(293),alt:"An image"}})]),n._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 1. 挂载")]),n._v("\nconstructor\ngetDerivedStateFromProps\nrender\ncomponentDidMount\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 2. 更新")]),n._v("\ngetDerivedStateFromProps\nshouldComponentUpdate\nrender\ngetSnapshotBeforeUpdate\ncomponentDidUpdate\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 3. 卸载")]),n._v("\ncomponentWillUnmount\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br")])]),s("h3",{attrs:{id:"三、新旧生命周期对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、新旧生命周期对比"}},[n._v("#")]),n._v(" 三、新旧生命周期对比")]),n._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 1. 挂载")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 旧 ------------------------------- 新")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// constructor                      constructor                 // 相同")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// componentWillMount               getDerivedStateFromProps    // 不同")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// render                           render                      // 相同")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// componentDidMount                componentDidMount           // 相同")]),n._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 2. 更新")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 旧 ------------------------------- 新")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// componentWillReceiveProps        getDerivedStateFromProps    // 不同")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// shouldComponentUpdate            shouldComponentUpdate       // 相同")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// componentWillUpdate                                          // 不同")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// render                           render                      // 相同")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("//                                  getSnapshotBeforeUpdate     // 不同")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// componentDidUpdate               componentDidUpdate          // 相同")]),n._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 3. 卸载")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// componentWillUnmount             componentWillUnmount        // 相同")]),n._v("\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br")])]),s("p",[n._v("得出结论：React从v16.3开始废弃 componentWillMount componentWillReceiveProps componentWillUpdate 三个钩子函数（三个带 Will 的）。")]),n._v(" "),s("h3",{attrs:{id:"四、父子组件生命周期的执行顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、父子组件生命周期的执行顺序"}},[n._v("#")]),n._v(" 四、父子组件生命周期的执行顺序")]),n._v(" "),s("p",[n._v("以 React 18 为例，结合上面的 新的生命周期 图来分析：")]),n._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 1. 父子组件初始化")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： constructor")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： getDerivedStateFromProps")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： render")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： constructor")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： getDerivedStateFromProps")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： render")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： componentDidMount")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： componentDidMount")]),n._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 2. 子组件修改自身状态 state")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child 组件： getDerivedStateFromProps")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child 组件： shouldComponentUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child 组件： render")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child 组件： getSnapshotBeforeUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child 组件： componentDidUpdate")]),n._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 3. 修改父组件中传入子组件的 props")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： getDerivedStateFromProps")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： shouldComponentUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： render")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： getDerivedStateFromProps")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： shouldComponentUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： render")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： getSnapshotBeforeUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： getSnapshotBeforeUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： componentDidUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： componentDidUpdate")]),n._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 4. 卸载子组件")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： getDerivedStateFromProps")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： shouldComponentUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： render")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： getSnapshotBeforeUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： componentWillUnmount")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： componentDidUpdate")]),n._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// 5. 重新挂载子组件")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： getDerivedStateFromProps")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： shouldComponentUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： render")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： constructor")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： getDerivedStateFromProps")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： render")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： getSnapshotBeforeUpdate")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Child  组件： componentDidMount")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Parent 组件： componentDidUpdate")]),n._v("\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br")])]),s("p",[n._v("父子组件生命周期执行顺序总结：")]),n._v(" "),s("ul",[s("li",[n._v("当子组件自身状态改变时，不会对父组件产生副作用的情况下，父组件不会进行更新，即不会触发父组件的生命周期")]),n._v(" "),s("li",[n._v("当父组件中状态发生变化（包括子组件的挂载以及卸载）时，会触发自身对应的生命周期以及子组件的更新\n"),s("ul",[s("li",[n._v("render 以及 render 之前的生命周期，则 父组件先执行")]),n._v(" "),s("li",[n._v("render 以及 render之后的声明周期，则子组件先执行，并且是与父组件交替执行")]),n._v(" "),s("li",[n._v("当子组件进行卸载时，只会执行自身的 componentWillUnmount 生命周期，不会再触发别的生命周期")])])])]),n._v(" "),s("p",[n._v("DEMO验证："),s("br"),n._v(" "),s("a",{attrs:{href:"http://ycy88.com/other",target:"_blank"}},[n._v("父子组件生命周期的执行顺序")]),s("br")]),n._v(" "),s("p",[n._v("参考："),s("br"),n._v(" "),s("a",{attrs:{href:"https://juejin.cn/post/6914112105964634119",target:"_blank"}},[n._v("深入详解React生命周期")]),s("br")])])}),[],!1,null,null,null);s.default=a.exports}}]);